基于知识元标引的《王旭高医案》逻辑数据及知识图谱
探析
张泠杉１，王凤兰１，邢琛林２，王琨翎子１
（１．中国中医科学院中国医史文献研究所，北京　１００７００；２．北京邮电大学信息与通信工程学院，北京　１００８７６）
摘要：目的　采用知识元理论的信息技术梳理、分析中医古籍内容，构建知识图谱探析隐含的逻辑关系以发现新知识。方法
　以《王旭高医案》为例，在基于知识元理论与技术深度标引的基础上，首先利用ＭＳ　ＳＱＬ　Ｓｅｒｖｅｒ数据库将标引数据读取为逻
辑数据并初步分析；其次以基于ｎｅｏ４ｊ数据库构建的中医古籍知识图谱技术呈现出显性知识，同时探析其深层的逻辑推理关
系，进一步发现隐性知识。结果　《王旭高医案》共有知识体７８７个，知识元５　１５３个，语义类型共有１　１４９个，语义关联共有
５１０个。分析逻辑数据和机构化知识图谱可知，虚劳的知识元与语义关联最多，其中与肝脏、脾胃的语义关联最多。结论　
《王旭高医案》整体来看特点在于重视对各类疾病证候表现的描述以及病因病机的分析，王氏诊治虚劳的经验较为丰富，从肝
入手诊疗虚劳，尤其重视肝脾同病的病机。
关键词：王旭高医案；知识元标引；逻辑数据；知识图谱；古籍数字化
中图分类号：Ｒ２４９．
２
文献标志码：Ａ
文章编号：１６７２－０４８２（２０２１）０４－０５９２－０５
ＤＯＩ：１０．
１４１４８／ｊ．
ｉｓｓｎ．
１６７２－０４８２．
２０２１．
０５９２
２０２１，３７（４）：５９２－５９６．
Ａｎ　Ｅｘｐｌｏｒａｔｉｏｎ　ｏｆ　ｔｈｅ　Ｌｏｇｉｃａｌ　Ｄａｔａ　ａｎｄ　Ｋｎｏｗｌｅｄｇｅ　Ｇｒａｐｈ　ｏｆ　Ｗａｎｇ　
Ｘｕｇａｏ＇ｓ　
Ｃａｓｅ　
Ｒｅｃｏｒｄｓ　Ｂａｓｅｄ　ｏｎ　Ｋｎｏｗｌｅｄｇｅ　Ｅｌｅｍｅｎｔ　Ｉｎｄｅｘｉｎｇ
ＺＨＡＮＧ　
Ｌｉｎｇ－ｓｈａｎ
１，ＷＡＮＧ　
Ｆｅｎｇ－ｌａｎ
１，ＸＩＮＧ　
Ｃｈｅｎ－ｌｉｎ
２，ＷＡＮＧ　
Ｋｕｎ－ｌｉｎｇ－ｚｉ　
１
（
１．Ｉｎｓｔｉｔｕｔｅ　
ｏｆ　
Ｌｉｔｅｒａｔｕｒｅ　
ｉｎ　
Ｃｈｉｎｅｓｅ　
Ｍｅｄｉｃｉｎｅ，Ｃｈｉｎａ　
Ａｃａｄｅｍｙ　ｏｆ　Ｃｈｉｎｅｓｅ　Ｍｅｄｉｃａｌ　Ｓｃｉｅｎｃｅｓ，Ｂｅｉｊｉｎｇ，１００７００，Ｃｈｉｎａ；２．
Ｓｃｈｏｏｌ　
ｏｆ　Ｉｎｆｏｒｍａｔｉｏｎ　ａｎｄ　Ｃｏｍｍｕｎｉｃａｔｉｏｎ　Ｅｎｇｉｎｅｅｒｉｎｇ，Ｂｅｉｊｉｎｇ　Ｕｎｉｖｅｒｓｉｔｙ　ｏｆ　Ｐｏｓｔｓ　ａｎｄ　Ｔｅｌｅｃｏｍｍｕｎｉｃａｔｉｏｎｓ，Ｂｅｉｊｉｎｇ，
１００８７６，Ｃｈｉｎａ）
ＡＢＳＴＲＡＣＴ：ＯＢＪＥＣＴＩＶＥ　Ｔｏ　ｓｏｒｔ　ｏｕｔ　ａｎｄ　ａｎａｌｙｚｅ　ｔｈｅ　ｃｏｎｔｅｎｔｓ　ｏｆ　Ｃｈｉｎｅｓｅ　ｍｅｄｉｃａｌ　ｃｌａｓｓｉｃｓ　ｂｙ　ｕｓｉｎｇ　ｔｈｅ　ｉｎｆｏｒｍａｔｉｏｎ　ｔｅｃｈｎｏｌｏ－
ｇｙ　ｏｆ　ｋｎｏｗｌｅｄｇｅ　ｅｌｅｍｅｎｔ　ｔｈｅｏｒｙ，ａｎｄ　ｔｏ　ｆｉｎｄ　ｎｅｗ　ｋｎｏｗｌｅｄｇｅ　ｔｈｒｏｕｇｈ　ｅｘｐｌｏｒｉｎｇ　ｔｈｅ　ｉｍｐｌｉｅｄ　ｌｏｇｉｃａｌ　ｒｅｌａｔｉｏｎｓｈｉｐｓ　ａｎｄ　ｃｏｎｓｔｒｕｃ－
ｔｉｎｇ　ａ　ｋｎｏｗｌｅｄｇｅ　ｇｒａｐｈ．ＭＥＴＨＯＤＳ　Ｔｈｒｏｕｇｈ　ｄｅｐｔｈ　ｉｎｄｅｘｉｎｇ　ｏｆ　Ｗａｎｇ　
Ｘｕｇａｏ＇
ｓ　
Ｃａｓｅ　
Ｒｅｃｏｒｄｓ　ｂａｓｅｄ　ｏｎ　ｋｎｏｗｌｅｄｇｅ　ｅｌｅｍｅｎｔ　ｔｈｅ－
ｏｒｙ　ａｎｄ　ｔｅｃｈｎｏｌｏｇｙ，ｗｅ　ｆｉｒｓｔｌｙ　ｒｅａｄ　ｏｕｔ　ｉｎｄｅｘｉｎｇ　ｄａｔａ　ａｓ　ｌｏｇｉｃａｌ　ｄａｔａ　ａｎｄ　ｃａｒｒｉｅｄ　ｏｕｔ　ｐｒｅｌｉｍｉｎａｒｙ　ａｎａｌｙｓｉｓ　ｗｉｔｈ　ＭＳ　ＳＱＬ　Ｓｅｒｖｅｒ
ｄａｔａｂａｓｅ．Ｓｅｃｏｎｄｌｙ，ｗｅ　ｐｒｅｓｅｎｔｅｄ　ｔｈｅ　ｅｘｐｌｉｃｉｔ　ｋｎｏｗｌｅｄｇｅ　ｂｙ　ｕｓｉｎｇ　ｔｈｅ　ｋｎｏｗｌｅｄｇｅ　ｇｒａｐｈ　ｔｅｃｈｎｏｌｏｇｙ　ｏｆ　Ｃｈｉｎｅｓｅ　ｍｅｄｉｃａｌ　ｃｌａｓｓｉｃｓ
ｂａｓｅｄ　ｏｎ　ｎｅｏ４ｊ　ｄａｔａｂａｓｅ，ａｎｄ　ｅｘｐｌｏｒｅｄ　ｔｈｅ　ｕｎｄｅｒｌｙｉｎｇ　ｌｏｇｉｃａｌ　ｒｅｌａｔｉｏｎｓｈｉｐｓ　ｔｏ　ｆｕｒｔｈｅｒ　ｄｉｓｃｏｖｅｒ　ｔｈｅ　ｉｍｐｌｉｃｉｔ　ｋｎｏｗｌｅｄｇｅ．ＲＥＳＵＬＴＳ
　Ｔｈｅｒｅ　ｗｅｒｅ　７８７ｋｎｏｗｌｅｄｇｅ　ｂｏｄｉｅｓ，５　１５３ｋｎｏｗｌｅｄｇｅ　ｅｌｅｍｅｎｔｓ，１　１４９ｓｅｍａｎｔｉｃ　ｔｙｐｅｓ，ａｎｄ　５１０ｓｅｍａｎｔｉｃ　ａｓｓｏｃｉａｔｉｏｎｓ　ｉｎ　Ｗａｎｇ
Ｘｕｇａｏ＇
ｓ　
Ｃａｓｅ　
Ｒｅｃｏｒｄｓ．Ｂｙ　ａｎａｌｙｚｉｎｇ　ｔｈｅ　ｌｏｇｉｃａｌ　ｄａｔａ　ａｎｄ　ｔｈｅ　ｓｔｒｕｃｔｕｒｅｄ　ｋｎｏｗｌｅｄｇｅ　ｇｒａｐｈ，ｉｔ　ｃａｎ　ｂｅ　ｓｅｅｎ　ｔｈａｔ　ｔｈｅ　ｋｎｏｗｌｅｄｇｅ　ｅｌｅ－
ｍｅｎｔｓ　ａｎｄ　ｓｅｍａｎｔｉｃ　ａｓｓｏｃｉａｔｉｏｎｓ　ｏｆ　ｄｅｆｉｃｉｅｎｃｙ－ｃｏｎｓｕｍｐｔｉｏｎ　ｉｎ　ｔｈｅ　ｂｏｏｋ　ａｒｅ　ｔｈｅ　ｍｏｓｔ　ｎｕｍｅｒｏｕｓ，ａｍｏｎｇ　ｗｈｉｃｈ　ｔｈｅ　ｓｅｍａｎｔｉｃ　ａｓ－
ｓｏｃｉａｔｉｏｎｓ　ｗｉｔｈ　ｌｉｖｅｒ，ｓｐｌｅｅｎ　ａｎｄ　ｓｔｏｍａｃｈ　ａｒｅ　ｔｈｅ　ｍｏｓｔ　ｎｕｍｅｒｏｕｓ．ＣＯＮＣＬＵＳＩＯＮ　Ｉｔ　ｉｓ　ｃｏｎｃｌｕｄｅｄ　ｔｈａｔ　Ｗａｎｇ　
Ｘｕｇａｏ＇
ｓ　
Ｃａｓｅ　
Ｒｅ－
ｃｏｒｄｓ　ｉｓ　ｃｈａｒａｃｔｅｒｉｚｅｄ　ｂｙ　ｔｈｅ　ｅｍｐｈａｓｉｓ　ｏｎ　ｔｈｅ　ｄｅｓｃｒｉｐｔｉｏｎ　ｏｆ　ｓｙｎｄｒｏｍｅｓ　ａｎｄ　ｓｙｍｐｔｏｍｓ　ｏｆ　ｖａｒｉｏｕｓ　ｄｉｓｅａｓｅｓ　ａｎｄ　ｔｈｅ　ａｎａｌｙｓｉｓ　ｏｆ　ｒｅｌ－
ｅｖａｎｔ　ｅｔｉｏｌｏｇｉｅｓ　ａｎｄ　ｐａｔｈｏｇｅｎｅｓｉｓ．Ｂｅｓｉｄｅｓ，Ｗａｎｇ　ｈａｄ　ｒｉｃｈ　ｅｘｐｅｒｉｅｎｃｅ　ｉｎ　ｔｈｅ　ｄｉａｇｎｏｓｉｓ　ａｎｄ　ｔｒｅａｔｍｅｎｔ　ｏｆ　ｄｅｆｉｃｉｅｎｃｙ－ｃｏｎｓｕｍｐｔｉｏｎ．
Ｈｉｓ　ｔｒｅａｔｍｅｎｔ　ｏｆ　ｄｅｆｉｃｉｅｎｃｙ－ｃｏｎｓｕｍｐｔｉｏｎ　ｓｔａｒｔｓ　ｗｉｔｈ　ｔｈｅ　ｌｉｖｅｒ，ｗｉｔｈ　ｐａｒｔｉｃｕｌａｒ　ａｔｔｅｎｔｉｏｎ　ｔｏ　ｔｈｅ　ｐａｔｈｏｇｅｎｅｓｉｓ　ｏｆ　ｔｈｅ　ｄｉｓｅａｓｅ　ｉｎｖｏｌ－
ｖｉｎｇ　ｂｏｔｈ　ｔｈｅ　ｌｉｖｅｒ　ａｎｄ　ｓｐｌｅｅｎ．
ＫＥＹＷＯＲＤＳ：Ｗａｎｇ　
Ｘｕｇａｏ＇
ｓ　
Ｃａｓｅ　
Ｒｅｃｏｒｄｓ；ｋｎｏｗｌｅｄｇｅ　ｅｌｅｍｅｎｔ　ｉｎｄｅｘｉｎｇ；ｌｏｇｉｃａｌ　ｄａｔａ；ｋｎｏｗｌｅｄｇｅ　ｇｒａｐｈ；ｄｉｇｉｔａｌｉｚａｔｉｏｎ　ｏｆ　ｃｌａｓ－
ｓｉｃｓ
　　知识元是表示、控制、管理和操作知识的基本单
元，是为了解决以文献为单位的知识组织方式所包
含的知识内容太少，而无法满足用户增长的知识需
求而逐渐发展起来的
［１］。将知识元理论运用于中医
—５９２—
Ｊ　Ｎａｎｊｉｎｇ　Ｕｎｉｖ　
Ｔｒａｄｉｔ　Ｃｈｉｎ　
Ｍｅｄ　Ｖｏｌ．
３７　Ｎｏ．
４　Ｊｕｌ．２０２１　
收稿日期：２０２１－０５－１０
第一作者：张泠杉，女，博士研究生，Ｅ－ｍａｉｌ：１８９４５１０４４０１＠１６３．
ｃｏｍ
通信作者：王凤兰，女，研究员，博士生导师，主要从事中医古籍数字化的研究，Ｅ－ｍａｉｌ：
ｌｆｗ７３３＠１２６．
ｃｏｍ
古籍的研究中，不但可以大幅度提升传统中医古籍
整理的效率，并且可以进一步细化古籍文献知识元。
知识图谱是人工智能领域近年来迅速发展起来的新
技术，可应用于中医数字辨证知识表示与推理研
究
［２］。将知识图谱技术应用于中医古籍的研究，不
仅可以令显性知识一目了然地进行展示，还能发现
知识元之间的隐性关系，更加便于学者对中医古籍
知识进行运用与管理。
王泰林，字旭高，江苏无锡人，清代医家。初从
事外科，后专致于内科杂病，临证用药甚为精当，为
江浙地区著名医家。王氏著述计有六种：《西溪书屋
夜话录》《医方歌诀串解》《环溪草堂医案》《医学入
门》《选方约注》《伤寒一百一十三方歌诀》
［３］。《王旭
高医案》为其门人方耕霞搜集整理，分为四卷二十六
门，其中又包含内、外、妇、儿各科病症，每门都缀有
方氏按语。考察《王旭高医案》的研究现状发现，多
数学者运用传统文献学方法对《王旭高医案》进行整
理分析，未见有利用信息技术对其进行研究。基于
此，本研究基于知识元理论将《王旭高医案》进行数
字化加工，并运用构建知识图谱的技术与方法对其
进行分析，以期能够发现新知识。
１　材料与方法
１．
１　建立标引数据库
本研究使用的《王旭高医案》版本为清光绪二十
四年（１８９８年）倚云吟馆本。文本由专业人员进行
文献整理规范，并将规范后的文本导入中医古籍“病
脉证并治”知识元标引系统。
１．
２　知识体标引
知识体是知识系统中可以独立表达一个特定主
题的不可再分解的知识单元
［４］。首先将导入古籍标
引平台的《王旭高医案》按照目录划分结构层次。
《王旭高医案》共四卷，以病症归类各科医案，每卷下
统数种疾病，如卷一为温邪、暑邪、痢疾、黄疸等病
种；其次需精读文献，对其进行深度标引，根据具体
内容来标引属于该内容的知识体。知识体共分为中
医理论、诊法、病脉证并治、病症、本草、方剂、医案、
预防调护、学术流派、针灸１０种。
１．
３　知识元标引
根据知识元理论的研究综合来看，多数学者认
为知识元是不能分割的最小的独立知识单位
［５］，中
医古籍的研究中也遵循其基本概念。以卷一暑邪丁
案为例，从姓氏起到结尾的方剂，可将其整体标引为
“医案”这一知识体，并命名本知识体为“暑邪”，病案
名即为“暑邪”知识元；“丁”为姓名知识元；“如体肥
多湿之人，暑即寓于湿之内；劳心气虚之体，热即伏
于气之中”为体质知识元；“暑乃郁蒸之热，湿为濡滞
之邪。暑雨地湿，湿淫热郁，惟虚者受其邪，亦维素
有湿热者感其气”为时令知识元；“暑雨地湿，湿淫热
郁，惟虚者受其邪，亦维素有湿热者感其气。如体肥
多湿之人，暑即寓于湿之内；劳心气虚之体，热即伏
于气之中。于是气逆不达，三焦失宣”为病因病机知
识元；“于是气逆不达，三焦失宣，身热不扬，小溲不
利，头额独热，心胸痞闷，舌苔黄腻，底绛尖红，种种
皆为湿遏热伏之征”为证候表现知识元；“舌苔黄腻，
底绛尖红”为舌象知识元；“拟以栀豉上下宣泄之，鸡
苏表里分消之，二陈从中以和之，芳香宣窍以达之，
冀其三焦宣畅”为治则治法知识元；其所列方药整体
皆标引为方剂知识元。
１．
４　语义类型标引
语义类型宏观地表示了概念的语义场，藉此可
精确地匹配不同来源词汇系统的概念，区别词型相
似而含义不同的概念
［６］。落实于具体操作上，语义
类型提取需在知识元标引完成后方能进行。如卷一
暑邪“丁案”中，将“于是气逆不达，三焦失宣，身热不
扬，小溲不利，头额独热，心胸痞闷，舌苔黄腻，底绛
尖红，种种皆为湿遏热伏之征”标引为证候表现知识
元后，再将“气逆不达，三焦失宣”标引为病因病机语
义类型；“湿遏热伏之征”标引为病证语义类型；“舌
苔黄腻，底绛尖红”标引为舌象语义类型；“身热不
扬，小溲不利，头额独热，心胸痞闷”标引为证候表现
语义类型。
１．
５　语义关联标引
语义关联是概念之间关系的抽象概括，它描述
了概念间的内在联系，是构成知识体系的基本元
素
［７］。医案知识元包含的语义关联有辨治关系、证
因关系、证象关系、方药关系等１８种语义关联。仍
以卷一暑邪“丁案”为例，勾选“气逆不达，三焦失宣”
（病因病机），“湿遏热伏之征”（病证），“舌苔黄腻，底
绛尖红”（舌象）；“身热不扬，小溲不利，头额独热，心
胸痞闷”（证候表现）４个语义类型，点击“创建语义
关联”，选择语义关联为“证因关系”，则语义关联生
成。此标引系统中对于证因关系的规则定义为：病
症证候表现脉象舌象病因病机。包含两种
及以上元素的语义集合均属于“证因关系”语义关
联。
１．
６　数据分析
—５９３—
张泠杉，等：基于知识元标引的《王旭高医案》逻辑数据及知识图谱探析　第４期
１．
６．
１　构建逻辑数据　通过标引软件系统的数据
导出功能，导出《王旭高医案》的全部数据。存储在
ＭＳ　ＳＱＬ　Ｓｅｒｖｅｒ数据库中的标引数据，通过数据导
出程序，按其逻辑数据模型读取并保存为Ｅｘｃｅｌ格
式的文件。此文件分为５个工作表，其中４个工作
表分别为知识体记录、知识元记录、语义记录和语义
关联记录，１个工作表为各类知识体、知识元、语义
和语义关联的统计信息。在此基础上对该古籍知识
元、知识体、语义和语义关联的类型、数量、出现频率
等进行统计分析。
１．
６．
２　构建知识图谱　在《王旭高医案》知识图谱
构建过程中，数据处理流程为：标引数据（ＸＭＬ）→
ｊｓｏｎ半格式化数据→三元组数据→构建为知识图
谱。
从标引平台中导出的数据是包含完整内容和层
次关系的，通过‘＜＞’添加标签表达内容属性的
ＸＭＬ格式数据，使用ｘｍｌｔｏｄｉｃｔ库将ＸＭＬ字符串
转换为嵌套字典类型，再使用ｊｓｏｎ．
ｄｕｍｐｓ（）将字典
形式的数据转化为ｊｓｏｎ字符串，处理得到的ｊｓｏｎ数
据中每行数据都对应某种标引模板，由此可以根据
相应标引模板的标引逻辑将其解析为三元组形式。
此外，为处理语义关联列表中的部分一对多、多对多
的逻辑类型，引入虚拟节点的概念，将实体进行分组
连接。最后，将解析后的实体列表与关系列表分别
存储为ｃｓｖ文件，这里使用了ｐｙｔｈｏｎ的ｃｓｖ包进行
数据写入，再通过ｎｅｏ４ｊ命令行ｉｍｐｏｒｔ指令进行数
据导入，从而生成知识图谱。流程图见图１。
图１　知识图谱构建流程示例
２　结果
２．
１　知识元标引逻辑数据统计
《王旭高医案》共有知识体７８７个，全部为医案
知识体。共有知识元５　１５３个，包括２５种类型，其
中前１１种知识元占比较高，详见表１。
表１　知识元统计
知识元名称
数量
占比／％
证候表现
９２２　
１７．
９
方剂
７９８　
１５．
５
医案名
７８５　
１５．
２
病因病机
５５８　
１０．
８
姓名
５３０　
１０．
３
治则治法
５１９　
１０．
１
评按
２０５　
４．
０
脉象
２０２　
３．
９
舌象
１３０　
２．
５
预后
１１９　
２．
３
辨证
１００　
１．
９
其他
２８５　
５．
５
　　语义类型共有１　１４９个，共涉及９种类型，详见
表２。
表２　语义类型统计
语义类型
数量
占比／％
病因病机
４２１　
３６．
６
证候表现
３９１　
３４．
０
病证
１１９　
１０．
４
脉象
９５　
８．
３
舌象
４２　
３．
７
治法
４１　
３．
６
药物
２５　
２．
２
方剂
１３　
１．
１
治则
２　
０．
２
　　语义关联共有５１０个，全书涉及５种类型，详见
表３。
表３　语义关联统计
语义关联
数量
占比／％
证因关系
４０３　
７９．
０
证象关系
６４　
１２．
５
辨治关系
４０　
７．
８
证治关系
２　
０．
４
方药关系
１　
０．
２
—５９４—
２．
２　结构化知识图谱展示
下图为随机抓取的一张结构化知识图谱，不同
的颜色代表不同种类的节点，具有连接作用。红色
为医案名节点，粉色为虚拟节点。图２正中节点为
知识体“湿温过候”，有７个下级知识体，分别为二诊
到八诊。它们各自又有如证因关系、辨治关系、证象
关系等多个不同的语义关联节点。
图２　结构化知识图谱示例
３　讨论
３．
１　逻辑数据分析
３．
１．
１　知识元逻辑数据分析　根据统计结果显示
的前１１种占比较高的知识元的类型可以看出，证候
表现占比最高，说明《王旭高医案》记载病案的特点
之一是重视对各类疾病证候表现的描述。通过统计
发现医案名知识元中二诊及以上复诊率占全部医案
名的３０．
７％，说明本书载案有相当一部分是连续性
的复诊，再结合预后知识元也有一定占比，说明本书
的特点还在于重视疾病病程的发展及转归。医案类
古籍的叙述方式众多，有详有略，对比其他篇幅较
短、语出寥寥的医案类文献来说这一特点十分难得，
使后学者更容易把握病程，从中吸取到临证经验。
病因病机与治则治法占比较高且相当，说明本书长
于对病理、治法等医理的论述。综合上述知识元的
分析，可以看出《王旭高医案》对于各类疾病的证候
表现包括舌象、脉象以及治法方药等治疗内容的描
述充分而详细，并且重视预后，按语也颇丰。作为医
案类古籍，其特点为医案各要素全面，病情记录详
细，诊疗过程完备。
３．
１．
２　语义类型和语义关联逻辑数据分析　９种语
义类型中，病因病机与证候表现占比最高，而病因病
机的占比高于证候表现，与知识元统计结果不同，表
明《王旭高医案》着重于对病因病机关系进行阐述。
对比脉象和舌象的占比发现脉象的语义类型占比远
高于舌象，可见本书对脉象的关系性论述更为重视。
治法、药物、方剂、治则的语义类型较少，说明本书较
少有治法方药方面的关系性论述。
从语义关联的统计结果可以看出，证因关系占
比最高，方药关系占比最低，表明《王旭高医案》着重
于对证因关系的阐述，方药关系不是其阐述的重点
（这一点从语义类型上也可以验证）。此外，证象关
系、辨治关系占比也相对较高，通过和语义类型的统
计结果相参发现，本书在病因病机、证候表现、病症、
舌脉等对疾病辨证分析性的阐述内容所占篇幅最
多，其次为治法类的内容，而方药的分析性内容着墨
最少，这说明本书的特点详于对医理的阐述，而对于
方药的理论分析并不丰富。
语义关联数量排在前３位的分别为证因关系、
证象关系、辨治关系。《王旭高医案》共涉２６门疾
病，为进一步分析这３种语义关联在本书所涉疾病
中的分布特点，笔者统计逻辑数据，取频次最高的３
种疾病，则证因关系中前３位的疾病分别为虚劳、水
肿、肝风痰火；证象关系为伏暑、虚劳、疟疾；辨治关
系为伏暑、疟疾、虚劳。从上述统计不难发现，这３
种语义关联在全书所有疾病中，于虚劳所占比例最
多，由此可知本书对虚劳的医理阐述及诊疗过程尤
为精详，反映了王旭高在虚劳的治疗上十分有心得，
经验丰富。
３．
２　知识图谱分析
为进一步探索王旭高诊治虚劳的特点，将《王旭
高医案》进行深度标引后，构建结构化知识图谱，以
可视化的形式对相关内容进行不同角度的分析。虚
劳的语义关联知识图谱展现的是部分节点辐辏于虚
劳医案节点的关系，相关虚拟节点有２８个，绝大部
分为证因关系，也包括少量辨治关系（图３）。从证
因关系的节点中可以看出，虚劳主要以脏腑病机为
主，涉及肝、脾、肾等脏腑，说明王旭高在治疗虚劳时
较为重视脏腑间的功能关系。所有节点中涉及肝脏
的节点有８个，分别为“土衰木横”“肝虚”“怒动肝木
侮脾，土益受戕”“脾胃不足，肝木亢逆”“肝强脾弱”
“虽为肝旺，亦属脾衰”“肝木乘中”“木横则虫动”。
其中与土虚木旺相关的节点有６个，明显多于其他
病机，说明王旭高从肝脾两脏入手虚劳诊治，认为此
二脏为虚劳病理机制的关键脏腑。
此外，图谱中涉及脾脏的节点有１１个，涵盖了
证因关系和辨治关系，分别为“补其脾”“补脾之气
也”“土衰木横”“脾气弱”“怒动肝木侮脾，土益受戕”
“脾胃不足，肝木亢逆”“中土式微”“肝强脾弱”“虽为
—５９５—
张泠杉，等：基于知识元标引的《王旭高医案》逻辑数据及知识图谱探析　第４期
肝旺，亦属脾衰”“肝木乘中”“脾虚气滞”。去除肝脾
关系的节点，单纯涉及脾脏的节点有５个，其中２个
为辨治关系节点，可见王旭高在虚劳的诊治中认为
脾虚也是本病的重要病机，并且在治疗上十分注重
补脾。
根据以上分析，可以总结出王旭高辨治虚劳的
特点在于重视肝脾两脏间的关系，同时充分注意到
脾虚的病机，治疗中也十分强调补脾。
图３　虚劳语义关联知识图谱
４　总结
通过对《王旭高医案》的深度标引，从知识元与
语义关联逻辑数据的角度纵观《王旭高医案》全书，
其特点为有关医案的各要素如证候表现、舌脉、病因
病机、治法方药、预后等俱全，并且连续复诊率较高，
能够清晰展示病情变迁过程与疗效。本书的撰写特
点在于注重描述证候表现和丰富的病因病机分析，
这是后学者研读医案文献以吸纳临证经验的重要抓
手，更易于明确疾病诊断逻辑，同时也说明《王旭高
医案》实为医案著作中的佳作。
通过对语义关联的逻辑数据和知识图谱的分
析，不仅注意到王氏治疗虚劳有丰富的临床经验，更
发现在对虚劳的认识上，王氏也有别于其他医家。
虚劳最早见于张仲景《金匮要略·血痹虚劳病脉证
并治篇》，仲景认为五脏俱虚，脾肾为本，故治疗上偏
重补益脾肾，如小建中汤等，提出甘温扶阳，调补脾
肾等治法，为后世医家治疗虚证奠定了理论基础
［８］。
唐代孙思邈重视从心肾两脏论治虚劳；宋代许叔微、
明代张景岳和李中梓都提倡从脾肾论治；南宋严用
和则强调从肾论治，并提出了“补脾不如补肾”的治
疗原则；而金元时期李东垣、朱丹溪以及明代薛立斋
和清代薛生白尤重以脾胃论治
［９］，鲜有医家从肝论
治虚劳。本研究充分体现了王旭高治疗虚劳长于从
肝脾两脏入手，且病机尤重“土虚木旺”。王旭高素
来以“治肝卅法”享誉杏林，其《西溪书屋夜话录》开
篇即论：“病有肝气、肝风、肝火三者同出异名，其中
侮脾乘胃，冲心犯肺，挟寒挟痰，本虚标实种种不
同。”
［１０］并且在书中提出“治肝卅法”，其中有培土泄
木法及泄肝和胃法，缓肝法也是针对“肝气甚而中气
虚”者。可以看出王旭高在诊疗土木病机的疾病时，
分脏腑从多角度进行辨治。这为虚劳的基础理论研
究提供了新的切入点，也为临床治疗虚劳相关疾病
提供了参考。
本研究利用知识元标引技术探索古籍文献内
部，采用逻辑数据分析和结构化知识图谱可视化分
析对《王旭高医案》进行文献挖掘与研究，根据诊疗
思路及各类知识元之间的关联度，发现并选取书中
的关联关系最为丰富的虚劳，总结出作者对虚劳的
特色诊疗思想，为中医临床治疗虚劳提供了新的思
路。此外，本次对《王旭高医案》进行的深度知识元
标引和知识图谱构建，对于探索中医古籍数字化的
研究也具有一定的参考价值。
