·数据挖掘研究·
淋巴瘤医案不同聚类分析方法比较研究
朱垚１，陆明２，３，杨涛４，倪海雯５
（１．南京中医药大学第一临床医学院，江苏南京　２１００２３；２．南京中医药大学针灸推拿学院·养生康复学院，江苏南京　
２１００２３；３．南京医中数据挖掘中心，江苏南京　２１００２９；４．南京中医药大学人工智能与信息技术学院，江苏南京　２１００２３；５．南
京中医药大学附属医院，江苏南京　２１００２９）
摘要：目的　以淋巴瘤临床医案为范例数据，对不同聚类分析方法挖掘结果进行比较，从而分析中医医案药物聚类挖掘方法
的优化方案与结果差异。方法　对淋巴瘤医案进行统一预处理与规范，运用分散性聚类中的快速聚类、结构性聚类中的层次
聚类进行挖掘分析，并从算法特点、终值偏倚与临床拟合３个维度综合比较。结果　研究共涉及患者１３８人次，病例３５４诊
次，药物４５１味。分散性聚类中药物分散性聚类所得群集类２６类，群集数最大２９，最小１；方剂分散性聚类所得群集类２２类，
群集数最大１９，最小３，位点值最大１４，最小３。结构性聚类中Ｆ１０药物凝聚层次聚类，群集数最大２５，最小１２；结构性聚类中
Ｆ２０药物凝聚层次聚类，群集数最大２１，最小８；结构性聚类中Ｆ３０药物凝聚层次聚类，群集数最大１５，最小５。结论　对于中
医临床医案单病种数据挖掘研究，方法的选取主要取决于样本的总体数量与药物的总体频数。数据量较小时宜选取结构性
聚类，药物结构性聚类挖掘设计宜采用较高药物频幅，挖掘终值偏倚较低，研究结果临床拟合度较好；数据量较大时宜选取分
散性聚类，分散性聚类挖掘设计宜采用方剂分散性聚类，挖掘终值偏倚较低，研究结果临床拟合度较好。
关键词：中医；医案；数据挖掘；分散性聚类；结构性聚类；方法学；差异比较
中图分类号：Ｒ２７３
文献标志码：Ａ
文章编号：１６７２－０４８２（２０２１）０１－０１０５－０８
ＤＯＩ：１０．
１４１４８／ｊ．
ｉｓｓｎ．
１６７２－０４８２．
２０２１．
０１０５
Ｃｏｍｐａｒａｔｉｖｅ　Ｓｔｕｄｙ　ｏｎ　Ｄｉｆｆｅｒｅｎｔ　Ｃｌｕｓｔｅｒ　Ａｎａｌｙｓｉｓ　Ｍｅｔｈｏｄｓ　ｏｆ　Ｌｙｍｐｈｏｍａ　Ｍｅｄｉｃａｌ　Ｒｅｃｏｒｄｓ
ＺＨＵ　
Ｙａｏ
１，ＬＵ　
Ｍｉｎｇ
２，
３，ＹＡＮＧ　
Ｔａｏ
４，ＮＩ　
Ｈａｉ－ｗｅｎ
５
（
１．Ｔｈｅ　
Ｆｉｒｓｔ　
Ｓｃｈｏｏｌ　
ｏｆ　
Ｃｌｉｎｉｃａｌ　
Ｍｅｄｉｃｉｎｅ，Ｎａｎｊｉｎｇ　
Ｕｎｉｖｅｒｓｉｔｙ　ｏｆ　Ｃｈｉｎｅｓｅ　Ｍｅｄｉｃｉｎｅ，Ｎａｎｊｉｎｇ，２１００２３，Ｃｈｉｎａ；２．Ｓｃｈｏｏｌ
ｏｆ　
Ａｃｕｐｕｎｃｔｕｒｅ　ａｎｄ　Ｔｕｉｎａ，Ｓｃｈｏｏｌ　ｏｆ　Ｒｅｇｉｍｅｎ　ａｎｄ　Ｒｅｈａｂｉｌｉｔａｔｉｏｎ，Ｎａｎｊｉｎｇ　Ｕｎｉｖｅｒｓｉｔｙ　ｏｆ　Ｃｈｉｎｅｓｅ　Ｍｅｄｉｃｉｎｅ，Ｎａｎｊｉｎｇ，
２１００２３，Ｃｈｉｎａ；３．Ｄａｔａ　
Ｍｉｎｉｎｇ　
Ｃｅｎｔｅｒ，Ｍｅｄｃｈｉｔｅｃ　
Ｃｏ．Ｌｔｄ．，Ｎａｎｊｉｎｇ，２１００２９，Ｃｈｉｎａ；４．Ｓｃｈｏｏｌ　
ｏｆ　
Ａｒｔｉｆｉｃｉａｌ　
Ｉｎｔｅｌｌｉｇｅｎｃｅ
ａｎｄ　Ｉｎｆｏｒｍａｔｉｏｎ　
Ｔｅｃｈｎｏｌｏｇｙ，Ｎａｎｊｉｎｇ　
Ｕｎｉｖｅｒｓｉｔｙ　
ｏｆ　
Ｃｈｉｎｅｓｅ　
Ｍｅｄｉｃｉｎｅ，Ｎａｎｊｉｎｇ，２１００２３，Ｃｈｉｎａ；５．Ｔｈｅ　
Ａｆｆｉｌｉａｔｅｄ　
Ｈｏｓｐｉ－
ｔａｌ　
ｏｆ　
Ｎａｎｊｉｎｇ　
Ｕｎｉｖｅｒｓｉｔｙ　
ｏｆ　
Ｃｈｉｎｅｓｅ　
Ｍｅｄｉｃｉｎｅ，Ｎａｎｊｉｎｇ，２１００２９，Ｃｈｉｎａ）
ＡＢＳＴＲＡＣＴ：ＯＢＪＥＣＴＩＶＥ　Ｔｏ　ｃｏｍｐａｒｅ　ｔｈｅ　ｍｉｎｉｎｇ　ｒｅｓｕｌｔｓ　ｏｆ　ｄｉｆｆｅｒｅｎｔ　ｃｌｕｓｔｅｒ　ａｎａｌｙｓｉｓ　ｍｅｔｈｏｄｓ　ｗｉｔｈ　ｌｙｍｐｈｏｍａ　ｃｌｉｎｉｃａｌ　ｍｅｄｉｃａｌ
ｒｅｃｏｒｄｓ　ａｓ　ｓａｍｐｌｅ　ｄａｔａ，ａｎｄ　ｔｏ　ａｎａｌｙｚｅ　ｔｈｅ　ｏｐｔｉｍｉｚａｔｉｏｎ　ｐｌａｎ　ａｎｄ　ｒｅｓｕｌｔ　ｄｉｆｆｅｒｅｎｃｅｓ　ｏｆ　ｔｈｅ　ｄｒｕｇ　ｃｌｕｓｔｅｒ　ｍｉｎｉｎｇ　ｍｅｔｈｏｄｓ　ｉｎ　ｔｒａｄｉ－
ｔｉｏｎａｌ　Ｃｈｉｎｅｓｅ　ｍｅｄｉｃａｌ　ｒｅｃｏｒｄｓ．ＭＥＴＨＯＤＳ　Ｔｈｒｏｕｇｈ　ｐｅｒｆｏｒｍｉｎｇ　ｕｎｉｆｉｅｄ　ｐｒｅｐｒｏｃｅｓｓｉｎｇ　ａｎｄ　ｓｔａｎｄａｒｄｉｚａｔｉｏｎ　ｏｆ　ｌｙｍｐｈｏｍａ　ｍｅｄｉ－
ｃａｌ　ｒｅｃｏｒｄｓ，ａｓ　ｗｅｌｌ　ａｓ　ｕｓｉｎｇ　ｆａｓｔ　ｃｌｕｓｔｅｒｉｎｇ　ｉｎ　ｄｅｃｅｎｔｒａｌｉｚｅｄ　ｃｌｕｓｔｅｒｉｎｇ，ａｎｄ　ｈｉｅｒａｒｃｈｉｃａｌ　ｃｌｕｓｔｅｒｉｎｇ　ｉｎ　ｓｔｒｕｃｔｕｒａｌ　ｃｌｕｓｔｅｒｉｎｇ　ｆｏｒ　ａ－
ｎａｌｙｓｉｓ　ａｎｄ　ｍｉｎｉｎｇ，ｓｕｃｈ　ｔｈｒｅｅ　ｄｉｍｅｎｓｉｏｎａｌｉｔｉｅｓ　ａｓ　ｃｈａｒａｃｔｅｒｉｓｔｉｃｓ　ｏｆ　ａｌｇｏｒｉｔｈｍｓ，ｔｅｒｍｉｎａｌ　ｖａｌｕｅ　ｂｉａｓ，ａｎｄ　ｃｌｉｎｉｃａｌ　ｆｉｔｔｉｎｇ　ｗｅｒｅ
ａｎａｌｙｚｅｄ　ａｎｄ　ｃｏｍｐａｒｅｄ　ｃｏｍｐｒｅｈｅｎｓｉｖｅｌｙ．ＲＥＳＵＬＴＳ　Ｔｈｉｓ　ｓｔｕｄｙ　ｉｎｖｏｌｖｅｄ　１３８ｐａｔｉｅｎｔｓ，３５４ｖｉｓｉｔｓ　ａｎｄ　４５１ｋｉｎｄｓ　ｏｆ　ｍｅｄｉｃｉｎｅｓ．
Ｉｎ　ｔｈｅ　ｄｅｃｅｎｔｒａｌｉｚｅｄ　ｃｌｕｓｔｅｒｉｎｇ，ｔｈｅ　ｄｒｕｇ　ｄｅｃｅｎｔｒａｌｉｚｅｄ　ｃｌｕｓｔｅｒｉｎｇ　ｒｅｓｕｌｔｓ　ｈａｄ　２６ｃｌｕｓｔｅｒｓ，ｗｈｉｌｅ　ｔｈｅ　ｌａｒｇｅｓｔ　ｎｕｍｂｅｒ　ｏｆ　ｃｌｕｓｔｅｒｓ
ｗａｓ　２９ａｎｄ　ｔｈｅ　ｓｍａｌｌｅｓｔ　ｗａｓ　１．Ｔｈｅ　ｐｒｅｓｃｒｉｐｔｉｏｎ　ｄｅｃｅｎｔｒａｌｉｚｅｄ　ｃｌｕｓｔｅｒｉｎｇ　ｒｅｓｕｌｔｓ　ｉｎｃｌｕｄｅｄ　２２ｃｌｕｓｔｅｒｓ，ｔｈｅ　ｌａｒｇｅｓｔ　ｎｕｍｂｅｒ　ｏｆ
ｃｌｕｓｔｅｒｓ　ｗａｓ　１９，ｔｈｅ　ｓｍａｌｌｅｓｔ　ｗａｓ　３，ｔｈｅ　ｌａｒｇｅｓｔ　ｄｏｔ　ｖａｌｕｅ　ｗａｓ　１４，ａｎｄ　ｔｈｅ　ｓｍａｌｌｅｓｔ　ｗａｓ　３．Ａｓ　ｆｏｒ　ｔｈｅ　Ｆ１０ｄｒｕｇ　ｈｉｅｒａｒｃｈｉｃａｌ
ｃｌｕｓｔｅｒｉｎｇ　ｏｆ　ｓｔｒｕｃｔｕｒａｌ　ｃｌｕｓｔｅｒｉｎｇ，ｔｈｅ　ｌａｒｇｅｓｔ　ｎｕｍｂｅｒ　ｏｆ　ｃｌｕｓｔｅｒｓ　ｗａｓ　２５，ａｎｄ　ｔｈｅ　ｓｍａｌｌｅｓｔ　ｗａｓ　１２．Ａｓ　ｆｏｒ　ｔｈｅ　Ｆ２０ｄｒｕｇ　ｈｉｅｒａｒ－
ｃｈｉｃａｌ　ｃｌｕｓｔｅｒｉｎｇ　ｏｆ　ｓｔｒｕｃｔｕｒａｌ　ｃｌｕｓｔｅｒｉｎｇ，ｔｈｅ　ｌａｒｇｅｓｔ　ｎｕｍｂｅｒ　ｏｆ　ｃｌｕｓｔｅｒｓ　ｗａｓ　２１ａｎｄ　ｔｈｅ　ｓｍａｌｌｅｓｔ　ｗａｓ　８．Ａｓ　ｆｏｒ　ｔｈｅ　Ｆ３０ｄｒｕｇ　ｈｉ－
ｅｒａｒｃｈｉｃａｌ　ｃｌｕｓｔｅｒｉｎｇ　ｏｆ　ｓｔｒｕｃｔｕｒａｌ　ｃｌｕｓｔｅｒｉｎｇ，ｔｈｅ　ｌａｒｇｅｓｔ　ｎｕｍｂｅｒ　ｏｆ　ｃｌｕｓｔｅｒｓ　ｗａｓ　１５，ａｎｄ　ｔｈｅ　ｓｍａｌｌｅｓｔ　ｗａｓ　５．ＣＯＮＣＬＵＳＩＯＮ　
Ｆｏｒ　ｔｈｅ　ｒｅｓｅａｒｃｈ　ｏｎ　ｄａｔａ　ｍｉｎｉｎｇ　ｏｆ　ｔｒａｄｉｔｉｏｎａｌ　Ｃｈｉｎｅｓｅ　ｍｅｄｉｃｉｎｅ（ＴＣＭ）ｃｌｉｎｉｃａｌ　ｍｅｄｉｃａｌ　ｒｅｃｏｒｄｓ　ｆｏｒ　ａ　ｓｉｎｇｌｅ　ｄｉｓｅａｓｅ，ｄｉｆｆｅｒｅｎｔ
ｃｌｕｓｔｅｒｉｎｇ　ｍｅｔｈｏｄｓ　ｈａｖｅ　ｂｅｅｎ　ａｐｐｌｉｅｄ　ｔｏ　ｓｔｕｄｙ　ｔｈｅ　ｄｒｕｇ　ｃｏｍｂｉｎａｔｉｏｎ　ｏｒ　ｃｏｒｅ　ｐｒｅｓｃｒｉｐｔｉｏｎｓ　ｕｓｅｄ　ｉｎ　ｔｈｅ　ｃｌｉｎｉｃａｌ　ａｐｐｌｉｃａｔｉｏｎ　ｏｆ　Ｃｈｉ－
—１０５—
Ｊ　Ｎａｎｊｉｎｇ　Ｕｎｉｖ　
Ｔｒａｄｉｔ　Ｃｈｉｎ　
Ｍｅｄ　Ｖｏｌ．
３７　Ｎｏ．
１　Ｊａｎ．２０２１　
收稿日期：２０２０－０７－２９
南京中医药大学横向课题（２０１８０４５）；江苏省六大人才高峰项目（ＲＪＦＷ－４０）；江苏省“３３３高层次人才培养工程”；江苏省科技型企业
技术创新基金（ＢＣ２０１５０２２）
第一作者：朱垚，男，副教授，Ｅ－ｍａｉｌ：ｚｈｏｎｇｙｉｙａｏｃｈｕａｎｒｅｎ＠１２６．
ｃｏｍ
通信作者：倪海雯，女，主任医师，主要从事血液病的中医药治疗研究，Ｅ－ｍａｉｌ：１４９９１６９６４１＠ｑｑ．
ｃｏｍ
ｎｅｓｅ　ｍｅｄｉｃｉｎｅ．Ｔｈｅ　ｓｅｌｅｃｔｉｏｎ　ｏｆ　ｔｈｅ　ｍｅｔｈｏｄｓ　ｍａｉｎｌｙ　ｄｅｐｅｎｄｓ　ｏｎ　ｔｈｅ　ｔｏｔａｌ　ｎｕｍｂｅｒ　ｏｆ　ｓａｍｐｌｅｓ　ａｎｄ　ｔｈｅ　ｏｖｅｒａｌｌ　ｆｒｅｑｕｅｎｃｙ　ｏｆ　ｄｒｕｇｓ．
Ｗｈｅｎ　ｔｈｅ　ａｍｏｕｎｔ　ｏｆ　ｄａｔａ　ｉｓ　ｓｍａｌｌ，ｓｔｒｕｃｔｕｒａｌ　ｃｌｕｓｔｅｒｉｎｇ　ｓｈｏｕｌｄ　ｂｅ　ｓｅｌｅｃｔｅｄ　ｗｈｉｌｅ　ａ　ｈｉｇｈｅｒ　ｄｒｕｇ　ｆｒｅｑｕｅｎｃｙ　ｒａｎｇｅ　ｓｈｏｕｌｄ　ｂｅ　ｕｓｅｄ
ｉｎ　ｔｈｅ　ｄｅｓｉｇｎ　ｏｆ　ｄｒｕｇ　ｓｔｒｕｃｔｕｒａｌ　ｃｌｕｓｔｅｒｉｎｇ　ｍｉｎｉｎｇ，ｓｏ　ａｓ　ｔｏ　ｇｅｔ　ａ　ｌｏｗｅｒ　ｆｉｎａｌ　ｖａｌｕｅ　ｏｆ　ｔｈｅ　ｍｉｎｉｎｇ　ｂｉａｓ　ａｎｄ　ａ　ｂｅｔｔｅｒ　ｒｅｓｅａｒｃｈ　ｒｅｓｕｌｔ
ｏｆ　ｔｈｅ　ｃｌｉｎｉｃａｌ　ｆｉｔｔｉｎｇ　ｄｅｇｒｅｅ．Ｗｈｅｎ　ｔｈｅ　ａｍｏｕｎｔ　ｏｆ　ｄａｔａ　ｉｓ　ｌａｒｇｅ，ｔｈｅ　ｄｅｃｅｎｔｒａｌｉｚｅｄ　ｃｌｕｓｔｅｒｉｎｇ　ｓｈｏｕｌｄ　ｂｅ　ｓｅｌｅｃｔｅｄ，ａｎｄ　ｔｈｅ　ｐｒｅ－
ｓｃｒｉｐｔｉｏｎ　ｄｅｃｅｎｔｒａｌｉｚｅｄ　ｃｌｕｓｔｅｒｉｎｇ　ｉｎ　ｔｈｅ　ｄｅｓｉｇｎ　ｏｆ　ｄｅｃｅｎｔｒａｌｉｚｅｄ　ｃｌｕｓｔｅｒｉｎｇ　ｍｉｎｉｎｇ　ｓｈｏｕｌｄ　ｂｅ　ａｄｏｐｔｅｄ　ｔｏ　ｇｅｔ　ａ　ｌｏｗｅｒ　ｆｉｎａｌ　ｖａｌｕｅ　ｏｆ
ｔｈｅ　ｍｉｎｉｎｇ　ｂｉａｓ　ａｎｄ　ｂｅｔｔｅｒ　ｒｅｓｅａｒｃｈ　ｒｅｓｕｌｔ　ｏｆ　ｔｈｅ　ｃｌｉｎｉｃａｌ　ｆｉｔｔｉｎｇ　ｄｅｇｒｅｅ．
ＫＥＹＷＯＲＤＳ：ｔｒａｄｉｔｉｏｎａｌ　Ｃｈｉｎｅｓｅ　ｍｅｄｉｃｉｎｅ；ｍｅｄｉｃａｌ　ｒｅｃｏｒｄｓ；ｄａｔａ　ｍｉｎｉｎｇ；ｄｅｃｅｎｔｒａｌｉｚｅｄ　ｃｌｕｓｔｅｒｉｎｇ；ｓｔｒｕｃｔｕｒａｌ　ｃｌｕｓｔｅｒｉｎｇ；
ｍｅｔｈｏｄｏｌｏｇｙ；ｄｉｆｆｅｒｅｎｃｅ　ｃｏｍｐａｒｉｓｏｎ
　　基于中医临床医案的数据挖掘与知识发现是近
年来中医药研究的热点之一。中医医案数据挖掘虽
然研究方法众多，但符合中医临床辨治特点且能有
效总结专家经验的挖掘方法，主要还是以频数解构、
关联规则、聚类分析为主。聚类分析是将数据分到
不同类的过程，同一个类中的数据有较大相似性，而
不同类间的数据差异性较大。聚类分析是一种探索
性的数据挖掘方法，在分类过程中，不必预先制定分
类标准，聚类分析能够从样本数据出发自动分类。
通过对中医医案实际数据样本集的系列研究发现，
同一医案数据样本集所采用的聚类分析方法不同，
结论亦有较大差异。不同研究者对于同一组数据进
行相同的聚类分析方法，由于研究设计不同，所得到
的聚类值也不尽相同。因此，基于中医药学知识发
现的客观规律与前期大量中医医案数据挖掘实
践
［１－５］，本团队提出药物分散性聚类与方剂分散性聚
类的概念，并根据聚类分析在中医医案研究中的主
要目的，确立药物分散性聚类与方剂分散性聚类的
内涵及外延，以期扩展和丰富聚类分析在中医医案
数据挖掘领域的应用。本文采用淋巴瘤医案为范例
数据，对不同聚类分析方法的挖掘结果进行比较，从
而分析中医医案采用不同聚类分析方法的优化方案
与结果差异，为中医药数据挖掘提供更加优化的研
究范式。
１　资料与方法
１．
１　数据采集
本研究采用数据挖掘中的单源数据库类研究，
旨在研究单一来源数据库的医案数据结构特点，其
优势在于能够有效降低建库噪点，减少研究复核能
耗，留存单源数据研究样本，为多源数据库类研究形
成比对数据，确保后续多源数据库类医案研究的差
异值显现最大化。
选择目标单源数据库为中国知网（ＣＮＫＩ），进
行“淋巴瘤”单病种、单源数据库类医案研究论文检
索。论文数据库保留Ｄｏｗｎｌｏａｄ　Ｉｎｄｅｘ索引清单，进
行双人复核，确保论文数据库与索引清单的量值一
致。检索式：（ＳＵ＝"淋巴瘤"）ＡＮＤ（ＳＵ＝"国医
大师"ＯＲ　ＳＵ＝"名老中医"）ＡＮＤ（ＳＵ＝"验案"
ＯＲ　ＳＵ＝"经验"ＯＲ　ＳＵ＝"治验"ＯＲ　ＳＵ＝"医
案"），检索时间设置为１９８８年１月１日－２０１９年８
月１５日。
１．
２　数据库构建
在论文数据库的基础上，采用Ｍｅｄｃａｓｅ　Ｖｅｒ３．
８
诊籍中医师工作室－名老中医经验传承辅助平台，进
行临床医案数据文本提取，建立淋巴瘤专病医案数
据库。录入完成后进行二次数据审核；不同研究人
员进行录入及审核，控制相异率＜３％。
１．
３　纳入与排除标准
纳入标准：①论文医案描述中明确“淋巴瘤”诊
断；②论文医案描述中存在中药内服干预方案；③论
文医案描述中有复诊信息存在可供进行疗效判别的
症状。
排除标准：经校验复核确认在不同论文中，记录
了同一主诊医师相同的医案，排除时序首位记录外
的所有医案。
１．
４　诊断与中医证候分型标准
中医辨证分型及证候要素参照《现代中医肿瘤
学》
［６］《中药新药临床研究指导原则》
［７］；西医诊断标
准参照《ＷＨＯ（２００８）造血与淋巴组织肿瘤分类诊
断标准》
［８］根据受累淋巴结或结外肿瘤组织病理报
告确定诊断。
１．
５　数据预处理
针对淋巴瘤专病医案数据库中文本医案，在医
案录入与数据提取过程中对明显的症状、病机、治
法、药物、理化检查等数据源中的错误等非研究性数
据噪点，进行溯源性预处理，达到降噪、优化的目的。
溯源数据值与修正数据值由不同研究人员实时双备
份标记。
１．
６　数据规范化
预处理后的医案数据库按照研究分析类型的不
同，进行数据规范。规范化中医药术语分项集进行，
症状项集、诊断项集、病机项集规范参考《中医诊断
—１０６—
学》
［９］；药物项集规范根据临床经验导向型知识获取
原则，遵照中医医案真实世界研究范式，药物名称参
考《中药学》
［１０］，其他类型数据规范化采用《中医临
床医案数据挖掘研究数据规范化标准》
［１１］。对于明
确为非标准简写或非标准全称药物，均按照中药标
准名称进行规范；对于中医临床疗效有差异或专家
使用强调道地药材功效的药物，则保留原医案药名
规则，以促进较多临床型知识规则的获取；对于真实
医案中未能明确炮制方法或生、熟特性的药物，保留
原始医案药名，由研究者根据最终获取的知识规则，
对药物的炮制方法与生、熟特性进行临床读判与学
术研究。非标准全称完善为标准全称，如生薏仁、生
苡仁统一规范为生薏苡仁，熟薏仁、熟苡仁统一规范
为熟薏苡仁，但生薏苡仁与熟薏苡仁从临床使用角
度看，疗效有差别，因此按照真实世界研究范式，遵
从临床专家的使用习惯，以便多维度获取临床知识
规则。在此次聚类研究中，不再进行合并性药物名
称规范，如附子原始医案中标明生附子与熟附子的
采用生、熟区分，未注明生熟均按照医案原文保留为
附子，作为不同研究项集素材存在，以获得更多层次
知识规则，供研究者进行临床拟合分析。对于多种
不同炮制方法产生不同疗效特点的药物，不进行合
并性药物名称规范，如清半夏、法半夏、矾半夏、姜半
夏、竹沥半夏、制半夏（原文未标明，不做硬性划分）
等不做统一性规范。对于同一大类药物，子类内涵
临床选用存在差异的，均予以保留，不进行合并性药
物名称规范，如金钱白花蛇主指小白花蛇，白花蛇作
为大类名称包含大白花蛇。临床医家常用小方或成
药，按照临床使用习惯，作为独立项集素材存在，不
做进一步药物细化分拆及药名规范化处理，如黛蛤
散、猴枣散等。
１．
７　数据分析
Ｍｅｄｃａｓｅ　Ｖ３．
８诊籍中医师工作室－名老中医经
验传承辅助平台系江苏省科技创新专项研究成果，
由南京中医药大学国医大师周仲瑛工作室、第二临
床医学院、人工智能与信息技术学院联合研发
［１２］，
已在江苏地区中医临床、教学、科研单位广泛使用。
研究采用Ｍｅｄｃａｓｅ系统中的ＸＭｉｎｅｒ　Ｖ１．
０中医药
数据挖掘平台进行格式化和编码，并根据文本特征
计算数据权重，参考《中医临床医案数据挖掘研究数
据分析操作标准》
［１３］操作执行系统常规极值处理，
实时记录调参标值，基于Ｐｙｃｈａｒｍ的Ｋｍｅａｎｓ工具
与Ｈｉｅｒａｒｃｈｙ工具进行运算数据的可视化表达。
１．
８　方法学差异性研究设计
对于淋巴瘤临床医案的范例数据，在先期统一
预处理与规范后，运用分散性聚类中的快速聚类、结
构性聚类中的层次聚类进行分析挖掘，并在研究中
设计不同的挖掘路径。在分散性聚类中根据方剂药
物重频规则，采用药物分散性聚类与方剂分散性聚
类并行挖掘；在结构性聚类中根据药物频幅的节段，
设置Ｆ１０、Ｆ２０、Ｆ３０　３个药物凝聚层次进行并行挖
掘。将最终的挖掘结果根据算法特点、终值偏倚与
临床拟合３个方面进行综合分析比较，从而得出中
医医案药物聚类挖掘方法的优化方案与结果差异。
此次比较研究中采用的聚类分析方法，大类选
取的是以Ｋ－Ｍｅａｎｓ聚类为代表的分散性聚类和以
系统聚类为代表的结构性聚类。分散性聚类亚类选
取笔者所在团队提出的药物聚类分散性与方剂分散
性聚类。结构性聚类亚类选取则是定向性药物凝聚
层次聚类，根据不同的药物频幅，设定高、中、低３段
频幅的药物凝聚层次聚类。
药物分散性聚类是分散性聚类中的一种结合中
医临床用药特点优化的聚类亚型。其核心内涵是数
据降维，在中医临床医案的药物数据挖掘中，仅计算
药物在所有诊次中全部药物的绝对值及药物间的绝
对距离。药物分散性聚类研究的具体实施操作是将
药物项集纵向矩阵化，根据每个药物在矩阵中的共
现特征，赋予相应权值，根据可视化需要进行降维处
理，采用药物唯一性定位，根据欧氏距离进行药物聚
类分析。
方剂分散性聚类是分散性聚类中的一种结合中
医临床组方特点优化的聚类亚型。其核心内涵是数
据升维，在中医临床医案的药物数据挖掘中，仅计算
共现药物在全部诊次中的相对值及共现药物的位点
数值。方剂分散性聚类研究是将药物项集横向矩阵
化，根据不同诊次共现药物在矩阵中的特征，赋予相
应权值，按照可视化需要进行升维处理，采用共现药
物的位点频次，根据欧氏距离进行共现药物诊次特
征聚类分析。
凝聚层次聚类是结构性聚类的常见聚类亚型，
但在中医药领域中的运用，缺乏统一划分凝聚层的
优化方案。笔者所在团队根据前期中医医案挖掘实
践，在中医临床医案的药物数据挖掘中，采用药物频
幅权重划分聚类的凝聚层，常规划分标准为所有诊
次全部药物中出现频率每１０次为一个频幅节点。
药物凝聚层次聚类研究的具体实施操作是先根据药
—１０７—
朱垚，等：淋巴瘤医案不同聚类分析方法比较研究　第１期
物频幅的权重进行分层，将全部目标药物进行频幅
分布挖掘，再根据分布结果设定频幅分层节点，确定
高、中、低３段频幅节点后，采用结构性聚类中的定
向性药物凝聚层次聚类分析。
本次淋巴瘤研究中的药物凝聚层次聚类中，
Ｆ１０频幅即经过权重分层，设定频幅分层节点为全
部药物频次中大于１０次的药物凝聚层，Ｆ２０频幅即
经过权重分层，设定频幅分层节点为全部药物频次
中大于２０次的药物凝聚层，Ｆ３０的频幅即经过权重
分层，设定频幅分层节点为全部药物频次中大于３０
次的药物凝聚层，然后针对３个频段凝聚层进行结
构性聚类，获得终值。
２　结果
２．
１　研究总体描述
本次研究符合纳入标准的医案１３８则，共计
１３８人次，３５４诊次，其中男性１７６诊次，占总诊次数
的４９．７２％；女性总共１７８诊次，占总诊次数的
５０．
２８％。年龄最大患者８６岁，最小者６岁。研究
涉及病机５９条，症状２１５种，脉象１８种，舌象８０
种，药物４５１种。
２．
２　医案疗效评估
本次医案１３８则，其中仅记录初诊的单诊次医
案５４则，记录复诊的多诊次医案８４则，复诊症状改
善阳性医案８１则，复诊症状改善率为９６．
４３％；诊疗
超过５诊次的长诊次医案为１７则，诊疗时间超过６
个月的长疗程医案１８则，全部长诊次医案及长疗程
医案复诊临床症状改善率均为１００％。
２．
３　药物分散性聚类
结果见表１。
表１　药物分散性聚类群集值
群集类
群集数
群集值
１　
２３
人参、凤凰衣、炒白术、刺猬皮、清半夏、厚朴、橘红、猫爪草、生姜、生白术、白苏子、
知母、石见穿、紫草、红藤、茯苓、莱菔子、葶苈子、败酱草、金沸草、陈皮、鸡内金、龙胆草
２　
１６
佛手、平地木、当归尾、木鳖、板蓝根、熟庄黄、牵牛子、白芷、
白鲜皮、芍药、天花粉、藤梨根、钩藤、雄黄、黄柏、龟板
３　
２８
乌梅、乌药、土茯苓、天竺黄、天麻、枣皮、桂枝、桑螵蛸、橘络、栀子、
海螵蛸、炒白芍药、炮姜、玉竹、百合、益智仁、竹茹、紫菀、茜草炭、蒲黄、
覆盆子、诃子、铅丹、银柴胡、阿胶珠、骨碎补、龙骨、龟板胶
４　
２１
代赭石、八月札、制首乌、鳖甲、南沙参、地榆、墨旱莲、枳实、枸橘李、泽漆、漏芦、白残花、
白英、白薇、红景天、白花蛇舌草、蜂房、马勃、鸡血藤、龙葵、龙葵子
５　
１０
天花粉、天葵子、柴胡、炒枳壳、白蒺藜、蒲公英、连翘、金银花、香附、麻黄
６　
２９
仙茅、全蝎、冬凌草、墓头回、夜交藤、黑大豆、威灵仙、小蓟、山豆根、
忍冬藤、杏仁、桑叶、炒冬瓜子、焦山楂、王不留行、白及、石打穿、秦艽、糯稻根、
紫苏子、芙蓉叶、芡实、紫苏叶、茯苓皮、茵陈、莲子、谷芽、黄芪
７　
１３
制半夏、合欢皮、姜黄、川芎、桂枝、桔梗、海藻、生甘草、穿山甲、红花、胆南星、金钱草、青皮
８　
２４
牡丹皮、北沙参、大青叶、荞麦、山楂炭、川厚朴、川贝母、开金锁、桑叶、
桑寄生、沙参、炒谷芽、赤芍药、黄柏、猴枣散、白扁豆、白蔹、
石膏、紫花地丁、苍耳草、薄荷、蛇床子、铁皮枫斗、鸭跖草
９　
１６
僵蚕、前胡、壁虎、旱莲草、杜仲、枇杷叶、枳壳、油松节、水牛角、
益母草、紫苏叶、红豆杉、苏木、葛根、金刚骨、青风藤
１０　
１
黄芪
１１　
２１
地骨皮、天南星、射干、山慈菇、桑白皮、椿根皮、水牛角片、鹿茸草、泽兰、淫羊藿、
牡丹皮、瓦楞子、紫荆皮、肉苁蓉、菊花、七叶一枝花、防风、马齿苋、鬼箭羽、鸡矢藤、黄芩
１２　
１
太子参
１３　
１１
三叶青、土贝母、川楝子、昆布、枸橘核、炙甘草、生薏苡仁、红枣、青黛、生黄芪、黄药子
１４　
１１
乳香、五灵脂、制乌头、地龙、山慈姑、当归、木鳖子、枫香脂、没药、香墨、麝香
１５　
２３
八月扎、地肤子、夏枯草、大腹皮、山药、干姜、泽泻、海浮石、海蛤壳、牛黄、
牡蛎、猪苓、玄参、玉米须、白扁豆衣、白鲜皮、糙米、肉桂、车前子、车前草、郁金、金樱子、麦芽
１６　
９
三七、何首乌、天门冬、牛蒡子、白茅根、紫苏梗、胡麻仁、芦根、西洋参
１７　
１６
大血参、小血参、山萸肉、核桃、白附子、白首乌、石菖蒲、紫油桂、
红参、葱白、藿香、蜂蜜、赤芍药、附子、青蒿、黑小豆
１８　
１７
冬凌草、地鳖、土鳖虫、生山楂、徐长卿、桃仁、海藻、溪黄草、灵芝、
生甘草、石斛、神曲、肿节风、白芥子、蛇蜕、阿胶、鹿角胶、麦冬
１９　
１６
丹参、仙鹤草、半枝莲、半边莲、卷柏、女贞子、枸杞子、炒苍术、炙甘草、生地黄、
皂角刺、石韦、羊蹄根、花生衣、苦参、菟丝子
—１０８—
（续表）
群集类
群集数
群集值
２０　
２０
三棱、乌头、伸筋草、大枣、山海螺、木瓜、木通、水蛭、浮小麦、滑石、独活、
甘草梢、细辛、羌活、苍术、莪术、肉豆蔻、通草、雷公藤、马钱子
２１　
１７
五味子、佩兰、制山甲、大黄、白扁豆、栀子、桑枝、火麻仁、瓜蒌子、白芍药、石决明、
紫河车、茯神、虎杖、金荞麦、首乌藤、鱼腥草
２２　
２２
乌梢蛇、穿山甲、槟榔、橘核、沉香、炒杏仁、炒酸枣仁、瓜蒌、白花蛇、百部、
绿豆、羚羊角、荔枝核、葶苈、薤白、路路通、金钱白花蛇、八月札、香茶菜、香菌、鳖甲、鹿衔草
２３　
４０
七叶参、党参、合欢花、垂盆草、大蒜、天葵、小茴香、小麦、生川续断、延胡索、灯芯草、桑椹子、檀香、
款冬花、沉香曲、淡豆豉、炙牛角腮、瓜蒌实、炮姜炭、炮甲珠、焦山栀、狗脊、玫瑰、珍珠母、瓜蒌子、白花蛇舌草、
石莲子、竹沥、紫石英、炒川续断、艾叶、紫苏梗、茵陈蒿、莲须、菖蒲、蟾皮、贝母、远志、青葙子、饴糖
２４　
１７
炙黄芪、升麻、木馒头、木香、炒扁豆、炒麦芽、砂仁、竹叶、莲子心、葎草、
薏苡仁、蛇莓、蜈蚣、蝉蜕、补骨脂、酸枣仁、黄连
２５　
２２
七叶一枝花、制大黄、天冬、巴戟天、柏子仁、天花粉、浙贝母、炒稻芽、炙龟板、
熟地黄、牛膝、瓜蒌子、瓜蒌皮、紫菀、绞股蓝、荆芥、蛇六谷、金银花、鬼针草、鹿角、黄精、黛蛤散
２６　
５
槟榔炭、水红花子、芜荑、荷叶、贯众
　　　注：此群集标列参数Ｍａｒｋ　Ｐａｒａｍｅｔｅｒ＝［Ｋ＝２０．
００００；
ｉｎｅｒｔｉａ＝０．
０３４９］；Ｆｏｒｍａｔ　Ｅｘｐｏｒｔ　ｂｙ　Ｍｅｄｃａｓｅ　Ｃｈａｒｔ２０２０。
　　本次药物分散性聚类共计挖掘获得群集类２６
项，其中群集数＜１０区间的群集类有４项，群集数
在１０～２０区间的有１２项，群集数＞２０区间的有１０
项。药物分散性聚类所得药物组合的药味数量普遍
偏大，不完全符合中医临床组方原理；虽然此类方法
目标药物没有重复性，但挖掘所得药物组合中部分
存在个别药物的临床低解释性特征；个别群集仅为
单味药物，虽有可能为专病单方，但从临床实际出发
可能性较低，应配合其他药物组合使用。
２．
４　方剂分散性聚类
结果见表２。
表２　方剂分散性聚类群集值
群集类
位点数
群集数
群集值
１　
１４　
５
清半夏、浙贝母、猫爪草、陈皮、黄芪
２　
１１　
１３
人参、清半夏、大枣、女贞子、山药、枸杞子、甘草、生姜、白花蛇舌草、茯苓、菟丝子、陈皮、黄芪
３　
１１　
３
半枝莲、白花蛇舌草、蒲公英
４　
１０　
３
甘草、红豆杉、茯苓
５　
８　
１０
仙鹤草、鳖甲、北沙参、半枝莲、太子参、女贞子、漏芦、肿节风、鸡血藤、麦冬
６　
８　
６
制半夏、太子参、柴胡、甘草、生白术、蒲公英
７　
７　
８
乳香、五灵脂、地龙、木鳖子、枫香脂、没药、香墨、麝香
８　
６　
１９
僵蚕、夏枯草、姜黄、川芎、当归、柴胡、桔梗、浙贝母、海藻、猫爪草、生甘草、
穿山甲、红花、连翘、金银花、青皮、香附、黄芪、黄药子
９　
６　
１６
丹参、仙鹤草、党参、半枝莲、卷柏、女贞子、枸杞子、甘草、生地黄、白花蛇舌草、
石韦、羊蹄、花生衣、苦参、菟丝子、黄芪
１０　
６　
１２
三七、三棱、人参、党参、北沙参、太子参、山萸肉、昆布、水蛭、海藻、生地黄、莪术
１１　
６　
８
党参、炒白术、炙黄芪、当归、木香、茯苓、补骨脂、酸枣仁
１２　
６　
８
山药、泽泻、猪苓、甘草、石见穿、茯苓、车前子、车前草
１３　
６　
３
夏枯草、山慈菇、莪术
１４　
５　
２３
三七、党参、前胡、北沙参、川芎、当归、枇杷叶、柴胡、桔梗、泽泻、浙贝母、猪苓、
全瓜蒌、甘草、石膏、紫苏叶、菊花、葛根、赤芍药、车前子、连翘、陈皮、黄芩
１５　
５　
１５
党参、凤凰衣、刺猬皮、厚朴、生白术、白芍药、穿山甲、红藤、茯苓、蜈蚣、败酱草、金荞麦根、陈皮、鱼腥草、鸡内金
１６　
５　
５
大枣、干姜、炙甘草、生姜、黑小豆
１７　
５　
３
半枝莲、白花蛇舌草、百合
１８　
４　
１８
北沙参、半夏、壁虎、大枣、女贞子、枸杞子、玄参、甘草、生地黄、生姜、生白术、
茯苓、菟丝子、金钱白花蛇、陈皮、麦冬、麦芽、黄芪
１９　
４　
１６
僵蚕、冬凌草、土鳖虫、地龙、壁虎、徐长卿、浙贝母、海藻、玄参、生地黄、生甘草、石斛、肿节风、白芥子、金刚骨、麦冬
２０　
４　
９
射干、水牛角、牡丹皮、甘草、七叶一枝花、金荞麦根、马齿苋、鸡矢藤、黄芩
２１　
３　
１５
僵蚕、凤凰衣、炮山甲、半枝莲、壁虎、猫爪草、生白术、白花蛇舌草、茯苓、莪术、金刚骨、青风藤、鸡内金、黄芪、龙葵
２２　
３　
５
丹参、夏枯草、浙贝母、牡蛎、玄参
　　注：此群集标列参数Ｍａｒｋ　Ｐａｒａｍｅｔｅｒ＝［Ｋ＝２２．
００００；
ｉｎｅｒｔｉａ＝１７３７．
６７９９］；Ｆｏｒｍａｔ　Ｅｘｐｏｒｔ　ｂｙ　Ｍｅｄｃａｓｅ　Ｃｈａｒｔ２０２０。
　　本次方剂分散性聚类共计挖掘获得群集类２２
项，其中群集数＜１０区间的群集类有１２项，群集数
—１０９—
朱垚，等：淋巴瘤医案不同聚类分析方法比较研究　第１期
在１０～２０区间的有９项，群集数＞２０区间的有１
项。方剂分散性聚类研究结果所得药物组合的药味
数量普遍偏小，相对符合中医临床组方原理；虽然此
类方法目标药物有重复性，但挖掘所得药物组合具
有临床高解释性特征；未出现单味药物，最低群集为
３，符合临床角药小方特征，更加符合中医临床实际。
２．
５　Ｆ１０药物结构性聚类
结果见表３。
表３　Ｆ１０药物凝聚层次聚类群集值
群集类
位点值
群集数
群集值
１　
０．
２８０　９　
２５
附子、炙甘草、肉桂、干姜、黄芩、大枣、人参、生姜、炒麦芽、天冬、败酱草、厚朴、鱼腥草、
金荞麦根、白鲜皮、地肤子、土茯苓、猪苓、茯苓、泽泻、桂枝、黄精、熟地黄、蛇六谷、苦参
２　
０．
２８７　２　
１２
淫羊藿、炮山甲、麦芽、枸杞子、女贞子、菟丝子、白花蛇舌草、半枝莲、神曲、山楂、阿胶、灵芝
３　
０．
２７０　５　
２０
紫草、知母、牡丹皮、石见穿、山萸肉、赤芍药、鸡内金、猫爪草、山药、浙贝母、夏枯草、
莪术、三棱、陈皮、炒白术、半夏、黄芪、茯苓、生白术、党参
４　
０．
２９２　９　
１６
玄参、牡蛎、白芍药、甘草、海藻、昆布、红枣、金银花、连翘、炒枳壳、天葵子、天花粉、蒲公英、芍药、香附、柴胡
　　注：此群集标列参数Ｍａｒｋ、Ｐａｒａｍｅｔｅｒ＝［Ｆｒｅｑｕｅｎｃｙ　ａｍｐｌｉｔｕｄｅ＞１０；Ｐｉｃｋ　ｐｏｉｎｔｓ＜３０］；Ｆｏｒｍａｔ　Ｅｘｐｏｒｔ　ｂｙ　Ｍｅｄｃａｓｅ　Ｃｈａｒｔ２０２０。
　　在药物频幅大于１０的Ｆ１０药物凝聚层次聚类
分析结果中，满足标列参数Ｍａｒｋ　Ｐａｒａｍｅｔｅｒ符合
Ｆｒｅｑｕｅｎｃｙ　ａｍｐｌｉｔｕｄｅ＞１０且Ｐｉｃｋ　ｐｏｉｎｔｓ＜３０的条
件下，共计挖掘获得群集类４项，其中群集数在１０～
２０区间的有２项，群集数≥２０区间的有２项。Ｆ１０
药物凝聚层次性聚类所得药物组合的药味数量普遍
偏大，不完全符合中医临床组方原理；挖掘所得药物
组合中存在部分药物临床解释性低。
２．
６　Ｆ２０药物结构性聚类
结果见表４。
表４　Ｆ２０药物凝聚层次聚类群集值
群集类
位点值
群集数
群集值
１　
０．
２１７　３　
８
桃仁、昆布、海藻、金银花、连翘、玄参、牡蛎、夏枯草
２　
０．
２２６　２　
９
香附、柴胡、桔梗、黄芩、天花粉、蒲公英、当归、川芎、白芍药
３　
０．
２８７　２　
２１
枸杞子、女贞子、菟丝子、甘草、黄芪、生姜、大枣、人参、半夏、麦芽、茯苓、生白术、
党参、酸枣仁、淫羊藿、补骨脂、砂仁、木香、陈皮、炒白术、山药
４　
０．
２３２　２　
１０
泽泻、桂枝、赤芍药、枳壳、附子、炙甘草、白芥子、肉桂、黄精、山慈菇
　　　注：此群集标列参数Ｍａｒｋ　Ｐａｒａｍｅｔｅｒ＝［Ｆｒｅｑｕｅｎｃｙ　ａｍｐｌｉｔｕｄｅ＞２０；Ｐｉｃｋ　ｐｏｉｎｔｓ＜２５］；Ｆｏｒｍａｔ　Ｅｘｐｏｒｔ　ｂｙ　Ｍｅｄｃａｓｅ　Ｃｈａｒｔ２０２０。
　　在药物频幅大于２０的Ｆ２０药物凝聚层次聚类
分析结果中，满足标列参数Ｍａｒｋ　Ｐａｒａｍｅｔｅｒ符合
Ｆｒｅｑｕｅｎｃｙ　ａｍｐｌｉｔｕｄｅ＞２０且Ｐｉｃｋ　ｐｏｉｎｔｓ＜２５的条
件下，共计挖掘获得群集类４项，其中群集数＜１０
区间的有２项，群集数在１０～２０区间的有１项，群
集数＞２０区间的有１项。Ｆ２０药物凝聚层次性聚
类所得药物组合的药味数量较Ｆ１０的域宽等级有
所缩减，相对符合中医临床组方原理；挖掘所得药物
组合中存在少量药物的临床解释性低。
２．
７　Ｆ３０药物结构性聚类
结果见表５。
表５　Ｆ３０药物凝聚层次聚类群集值
群集类
位点值
群集数
群集值
１　
０．
３５８　２　
１４白花蛇舌草、半枝莲、炙甘草、麦冬、太子参、砂仁、山萸肉、生甘草、生地黄、熟地黄、薏苡仁、仙鹤草、玄参、牡蛎
２　
０．
２０２　９　
５
蒲公英、制半夏、金银花、连翘、海藻
３　
０．
３４２　７　
１５
党参、丹参、当归、川芎、桔梗、莪术、猫爪草、山慈菇、浙贝母、夏枯草、穿山甲、僵蚕、香附、柴胡、黄芩
４　
０．
２８５　２　
１１
麦芽、神曲、赤芍药、白芍药、枳壳、黄芪、生白术、鸡内金、茯苓、甘草、女贞子
５　
０．
２４４　０　
９
菟丝子、枸杞子、生姜、大枣、人参、陈皮、炒白术、清半夏、山药
　　　注：此群集标列参数Ｍａｒｋ　Ｐａｒａｍｅｔｅｒ＝［Ｆｒｅｑｕｅｎｃｙ　ａｍｐｌｉｔｕｄｅ＞３０；Ｐｉｃｋ　ｐｏｉｎｔｓ＝Ｔｏｔａｌ］；Ｆｏｒｍａｔ　Ｅｘｐｏｒｔ　ｂｙ　Ｍｅｄｃａｓｅ　Ｃｈａｒｔ２０２０。
　　在药物频幅大于３０的Ｆ３０药物凝聚层次聚类
分析结果中，满足标列参数Ｍａｒｋ　Ｐａｒａｍｅｔｅｒ符合
Ｆｒｅｑｕｅｎｃｙ　ａｍｐｌｉｔｕｄｅ＞３０且Ｐｉｃｋ　ｐｏｉｎｔｓ＝Ｔｏｔａｌ的
条件下，共计挖掘获得群集类５项，其中群集数＜１０
区间的有２项，群集数在１０～２０区间的有３项。
Ｆ３０药物凝聚层次性聚类所得药物组合的药味数量
较Ｆ２０的域宽等级进一步缩减，更加符合中医临床
组方原理；挖掘所得药物组合大部分具有临床高解
释性特征。
３　讨论
３．
１　算法特点比较
分散性聚类的算法原理是首先选择聚类的类
—１１０—
数，其次产生任意类数个聚类，确定聚类中心，再对
每个点确定其聚类中心点，计算其聚类新中心，重复
多次，最终确定中心点不再改变。分散性聚类的优
势在于解决聚类问题简单快捷；算法对大数据集处
理可保持伸缩性和高效率；当群集值较密集时效果
较好。劣势在于类数的平均值可被定义的情况下才
能使用，可能不适用于某些应用；必须事先给出类
数，在运算过程中对初值敏感，不同初值可能会导致
终值差异；不适合于发现非凸形状的类或者大小差
别很大的类；对噪声和孤立数据较为敏感。结合此
次淋巴瘤医案数据挖掘结果，在医案数量为３５４诊
次且目标药物数量为４５１种时，药物数量相对阈值
不大，采用分散性聚类运算的效率优势没有完全显
现，且运算结果群集数偏大，群集值较多，临床解释
性相对较低。
本次淋巴瘤研究中的结构性聚类采用层次聚类
中自下而上的凝聚层次聚类，其主要算法原理是首
先将每个对象作为一个类，然后运算合并这些子类
为越来越大的类，直到满足终结条件而停止运算。
实际聚类分析中，结构性聚类是使用最多的一种聚
类方法，其优势在于结构性聚类既可以对样本聚类，
也可以对变量聚类，变量可以是连续性变量也可以
是分类变量；结构性聚类的类间距离计算方法和结
果表示方法非常丰富，可视化效果较好。结构性聚
类劣势在于与其分析过程相关，由于每一步聚类都
需要计算类间距离，当变量较多或样本数据量较大
时，运算速度较慢，运算效率较低。结合此次淋巴瘤
医案数据挖掘，采用结构性聚类中的凝聚层次聚类
运算效率与分散性聚类基本相当，而运算结果群集
数相对偏小，群集值较合理，临床解释性相对较高。
因此，样本数量的大小在一定程度上决定了数
据挖掘中分散性聚类与结构性聚类的选取，样本数
量较大时分散性聚类运算较为高效，样本数量较小
时结构性聚类适应性较好，可视程度更佳，在中医药
领域运用时更加符合临床实际，具有较好的临床解
释性。
３．
２　终值偏倚比较
分散性聚类中药物分散性聚类的设计特点是按
照所有样本医案数据中药物出现单次计算药物距
离，所得终值为药物间绝对距离。分散性聚类中方
剂分散性聚类的设计特点是根据所有样本医案数据
中相同药物组合共现数计算药物距离，所得终值为
药物间相对距离。从挖掘终值结果来看，在目标药
物绝对数量相对较低时，按照临床实际的方剂组方
原则与方剂常规药味数为标准，药物分散性聚类产
生的极值偏倚较大，方剂分散性聚类产生的极值偏
倚较小，并能明确展示药物组合实际出现的位点数
与位点值，更加利于临床分析与数据溯源。
在结构性聚类中，根据药物频幅的节段设置
Ｆ１０、Ｆ２０、Ｆ３０　３个药物凝聚层次进行并行挖掘。
Ｆ１０药物凝聚层次聚类为药物频幅大于１０的药物
系统聚类；Ｆ２０药物凝聚层次聚类为药物频幅大于
２０的药物系统聚类；Ｆ３０药物凝聚层次聚类为药物
频幅大于３０的药物系统聚类。从挖掘终值结果来
看，在药物绝对数量相对较低时，药物频幅越高的凝
聚层次聚类群集数区间相对更加集中，相对于临床
实际方剂药味数均值，产生的极值偏倚也相对较小。
由此可见在样本药物绝对数量相对较低时，结
构性聚类的群集数较分散性聚类的群集数相对较
小，极值偏倚也较小，更加接近临床实际方剂药味数
均值，而方剂分散性聚类与高频幅药物凝聚层次聚
类在终值表达与可视化展示方面更具优势。
３．
３　临床拟合比较
本次淋巴瘤医案样本分散性聚类中，药物分散
性聚类群集数大于２０的有１０项，群集数等于１的
有２项，符合临床处方组方规律的群集数仅为１４
项。从中医临床诊疗实际出发，群集数大于２０的多
为大方，研究偏倚风险较大，临床解释困难，群集数
为１的多为单药、单方，不符合聚类分析的运用目
的。而剩余的１４项也可能存在数据噪声与临床意
义不可解释性的问题。分散性聚类中方剂分散性聚
类因为算法及设计更加符合中医临床方剂的使用特
点，因此干扰噪点较低，虽然群集类也有２２类，但整
体群集值较药物分散性聚类群集值大幅下降。其中
群集值大于１０的共有１０项，而剩余１２项均为个位
群集值，更加符合中医临床核心药物组合或经典方
剂的解释，功效主治特征更加突出，有较强的临床解
释性。由此可见，在分散性聚类方法下，方剂分散性
聚类较药物分散性聚类具有更好的临床拟合度，而
群集类的数量对临床拟合度影响较小，群集值对临
床拟合度影响较大，群集值在（１０±５）范围内为临床
拟合的最佳阈值，具有较高的临床可解释性。
本次淋巴瘤医案结构性聚类中，从临床拟合度
来看，挖掘结果序位应为Ｆ３０＞Ｆ２０＞Ｆ１０，低频幅
药物凝聚层次聚类的群集值较为离散，临床意义不
可解释性较高，临床拟合度较低；而高频幅药物凝聚
—１１１—
朱垚，等：淋巴瘤医案不同聚类分析方法比较研究　第１期
层次聚类群集值较为集中，频幅越高群类别越集中，
临床解释性越好，临床拟合度越高。由此可见，在结
构性聚类方法下，根据药物频幅优先选取高频药物
进行凝聚层次聚类具有更好的临床拟合度，而聚类
分析结果位点值对临床拟合度影响较小，群集数随
着药物频幅的上升存在优化可能，群集值随着药物
频幅的上升反而成下降趋势，更加符合中医临床特
征；从结构性聚类最终群集值１０±３阈值范围来看，
结构性聚类临床拟合的最佳阈值范围也较分散性聚
类群集值更为聚合，临床可解释性进一步提升。
４　结论
综上所述，结合淋巴瘤医案数据挖掘结果进行
比对研究，在淋巴瘤医案数量为３５４诊次且目标药
物数量为４５１种时，分散性聚类分析与结构性聚类
分析在知识规则的结果表达上各有特点，但从算法
特点、终值偏倚、临床拟合三个维度整体评价，结构
性聚类在此研究中更具有优势。而此次基于淋巴瘤
医案的数据挖掘方法比较研究中，结构性聚类的亚
类中药物频幅大于３０的Ｆ３０药物凝聚层次聚类分
析是符合中医临床数据挖掘研究范式的最优方案。
对于中医临床医案单病种数据挖掘研究，采用
不同的聚类方法研究临床中药运用的药物组合或核
心处方，方法的选取主要取决于样本总体数量与药
物总体频数。数据量较小时宜选取结构性聚类，药
物结构性聚类挖掘设计宜采用较高药物频幅，挖掘
终值偏倚较低，研究结果临床拟合度较好；数据量较
大时宜选取分散性聚类，分散性聚类挖掘设计宜采
用方剂分散性聚类，挖掘终值偏倚较低，研究结果临
床拟合度较好。但无论中医医案类数据挖掘选取何
种聚类方法，在对挖掘终值的分析上均需要研究者
有较为深厚的临床经验，才能更全面地根据挖掘结
果获取新的知识。
